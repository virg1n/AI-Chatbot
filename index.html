<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Chatbot. Image Feature</title>
  <script src="js/main.js" defer></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300..900&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="css/style.css" />
  <style>
    #results img {
      max-height: 400px;
      width: auto;
      max-width: 100%;
      height: auto;
      object-fit: contain;
      display: block;
      margin: 0 auto;
    }
    #results {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 16px;
      margin-top: 16px;
    }
    .result-item {
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      padding: 8px;
      text-align: center;
    }
    .score {
      font-size: 0.9em;
      color: #555;
      margin-top: 6px;
    }
  </style>
</head>
<body>
  <nav>
    <ul>
    <li><a href="upload.html" style="color: white;">upload</a></li>
  </ul>
  </nav>
  <div class="container">
    <header>
      <a class="brand" href="#" aria-label="Home">
        <span class="brand-badge" aria-hidden="true"></span>
      </a>
    </header>

    <section class="card" aria-labelledby="title">
      <h1 id="title">AI Chatbot. Image Feature</h1>
      <div class="media">
        <img
          src="https://png.pngtree.com/png-vector/20191126/ourmid/pngtree-image-of-cute-radish-vector-or-color-illustration-png-image_2040180.jpg"
          alt="image from bot"
          class="image_to_show_1"
          style="display: none;"
        >
      </div>

      <!-- <div id="searchBox">
        <input type="text" id="promptInput" placeholder="Type a search prompt (e.g., a red car on a road)" />
        <button id="searchBtn">Search</button>
      </div> -->

      <div id="results"></div>
    </section>
  </div>

  <!-- <script>
    const API_URL = "http://localhost:5000/search"; 

    const input = document.getElementById("promptInput");
    const button = document.getElementById("searchBtn");
    const resultsDiv = document.getElementById("results");

    button.addEventListener("click", async () => {
      // const prompt = input.value.trim();
      // if (!prompt) {
      //   alert("Please enter a prompt");
      //   return;
      // }

      // resultsDiv.innerHTML = "<p>Searching...</p>";

      // try {
      //   const response = await fetch(API_URL, {
      //     method: "POST",
      //     headers: {
      //       "Content-Type": "application/json",
      //     },
      //     body: JSON.stringify({ prompt: prompt, top_k: 3 }),
      //   });

      //   const data = await response.json();

      //   if (data.error) {
      //     resultsDiv.innerHTML = `<p style="color:red">Error: ${data.error}</p>`;
      //     return;
      //   }

      //   if (!data.results || data.results.length === 0) {
      //     resultsDiv.innerHTML = "<p>No similar images found.</p>";
      //     return;
      //   }

      //   resultsDiv.innerHTML = "";
      //   data.results.forEach(item => {
      //     const div = document.createElement("div");
      //     div.className = "result-item";

      //     const img = document.createElement("img");
      //     img.src = item.path;
      //     img.alt = item.id;

      //     const score = document.createElement("div");
      //     score.className = "score";
      //     score.textContent = `Score: ${item.score.toFixed(3)}`;

      //     div.appendChild(img);
      //     div.appendChild(score);
      //     resultsDiv.appendChild(div);
      //   });

      // } catch (err) {
      //   resultsDiv.innerHTML = `<p style="color:red">Request failed: ${err.message}</p>`;
      // }
    });

    input.addEventListener("keydown", e => {
      if (e.key === "Enter") button.click();
    });
  </script> -->
</body>
</html>
